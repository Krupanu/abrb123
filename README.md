# Django проект с динамической формой

## Описание
Проект Django с динамической формой, которая позволяет добавлять поля ввода с помощью jQuery. Данные сохраняются в PostgreSQL в формате JSONB.

## Требования
- Docker
- Docker Compose

## Установка и запуск

### 1. Клонирование репозитория
```bash
git clone https://github.com/Krupanu/abrb123.git
```

### 2. Настройка line separator

Чтобы скрипты корректно запускались в контейнере (entrypoint.sh), убедитесь, что используемый тип окончаний строк — LF, а не CRLF.

PyCharm:

Откройте проект.

В нижнем правом углу найдите индикатор типа окончания строки (например, CRLF или LF).

Нажмите на него и выберите LF.

Сохраните файл.

VS Code:

Откройте файл.

В нижнем правом углу нажмите на CRLF / LF.

Выберите LF.

Сохраните файл.

### 3. Запуск контейнеров
```bash
docker-compose up -d
```

Миграции применятся автоматически при первом запуске.

Если запускается на macOS, то перед 
```bash
docker-compose up -d
```
Нужно выполнить 
```bash
chmod +x entrypoint.sh
```

### 4. Создание суперпользователя (опционально)
```bash
docker-compose exec web python manage.py createsuperuser
```

### 5. Доступ к приложению
- Приложение: http://localhost:8000
- Админ-панель: http://localhost:8000/admin

## Использование

### Работа с формой
1. Откройте главную страницу http://localhost:8000
2. Введите имя в первое поле
3. Нажмите "Добавить поле" для создания дополнительных полей ввода
4. Заполните созданные поля
5. Нажмите "Отправить" для сохранения данных

### Просмотр сохраненных данных
1. Перейдите по ссылке "Посмотреть сохраненные данные"
2. Или откройте http://localhost:8000/list
3. Здесь отображаются все сохраненные формы в формате JSON

## Структура проекта
```
abrb123/
├── docker-compose.yml      # Конфигурация Docker Compose
├── Dockerfile              # Docker-образ для Django
├── requirements.txt        # Python-зависимости
├── manage.py               # Утилита управления Django
├── abrb123/                # Настройки проекта Django
│   ├── asgi.py             # ASGI-конфигурация
│   ├── settings.py         # Основные настройки проекта
│   ├── urls.py             # Глобальные маршруты
│   └── wsgi.py             # WSGI-конфигурация
├── form_app/               # Приложение с формами
│   ├── admin.py            # Админка Django
│   ├── apps.py             # Конфигурация приложения
│   ├── models.py           # Модели (например, FormSubmission)
│   ├── views.py            # Представления (views)
│   ├── urls.py             # URL-маршруты приложения
│   ├── migrations/         # Миграции базы данных
│   │   ├── 0001_intial.py
│   │   └── __init__.py
│   ├── templates/          # HTML-шаблоны
│   │   └── form_app/
│   │       ├── form.html
│   │       └── list.html
│   └── static/             # Статические файлы
│       └── js/
│           └── dynamic_form.js
├── entrypoint.sh           # Точка входа для контейнера
└── README.md               # Документация проекта

```

## Технологии
- Django 5.0.2
- PostgreSQL 16
- jQuery 3.6.0
- Docker & Docker Compose

## Остановка проекта
```bash
docker-compose down
```

## Удаление данных
Для полного удаления включая базу данных:
```bash
docker-compose down -v
```